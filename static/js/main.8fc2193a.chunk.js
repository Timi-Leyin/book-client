(this["webpackJsonpchop-app"]=this["webpackJsonpchop-app"]||[]).push([[0],{39:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n.n(c),r=n(22),o=n.n(r),a=n(23),i=n.n(a),l=n(7),b=n(2),j=Object(c.createContext)({}),d=n(19),u=n.n(d),h=n(24),p=function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,setTimeout((function(){;"this is the data"}),4);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=p,x=n(3),f=n(5),m=n(16),g=n(10),y=n(0),k=function(t){var e=t.submit,n=t.Btn,s=Object(c.useState)({}),r=Object(x.a)(s,2),o=r[0],a=r[1],i=function(t,e){a(Object(g.a)(Object(g.a)({},o),{},Object(m.a)({},t,e)))};return Object(y.jsxs)(c.Fragment,{children:[n,Object(y.jsx)("div",{class:"modal fade text-dark",id:"modal",tabindex:"-1","aria-labelledby":"modal","aria-hidden":"true",children:Object(y.jsx)("div",{class:"modal-dialog",children:Object(y.jsxs)("div",{class:"modal-content",children:[Object(y.jsxs)("div",{class:"modal-header",children:[Object(y.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Add new book"}),Object(y.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(y.jsx)("div",{class:"modal-body",children:Object(y.jsxs)("form",{children:[Object(y.jsxs)("div",{class:"mb-3",children:[Object(y.jsx)("label",{for:"name",class:"col-form-label",children:"Title"}),Object(y.jsx)("input",{type:"text",onChange:function(t){i("name",t.target.value)},class:"form-control",id:"name"})]}),Object(y.jsxs)("div",{class:"mb-3",children:[Object(y.jsx)("label",{for:"description",class:"col-form-label",children:"Description"}),Object(y.jsx)("input",{type:"text",onChange:function(t){i("description",t.target.value)},class:"form-control",id:"description"})]}),Object(y.jsxs)("div",{class:"mb-3",children:[Object(y.jsx)("label",{for:"author",class:"col-form-label",children:"Author"}),Object(y.jsx)("input",{type:"text",onChange:function(t){i("author",t.target.value)},class:"form-control",id:"author"})]}),Object(y.jsxs)("div",{class:"mb-3",children:[Object(y.jsx)("label",{for:"image",class:"col-form-label",children:"Image"}),Object(y.jsx)("input",{type:"file",onChange:function(t){i("image",t.target.files[0])},class:"form-control",id:"image"})]}),Object(y.jsxs)("div",{class:"mb-3",children:[Object(y.jsx)("label",{for:"message-text",class:"col-form-label",children:"Content:"}),Object(y.jsx)("textarea",{class:"form-control",onChange:function(t){i("content",t.target.value)},id:"message-text"})]})]})}),Object(y.jsx)("div",{class:"modal-footer",children:Object(y.jsx)("button",{type:"submit",onClick:function(t){var n=new FormData;n.append("name","formData.name"),alert(JSON.stringify(n)),fetch("https://book--lib.herokuapp.com/add-book",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(o)}).then((function(t){return t.json()})).then((function(t){alert(t.msg),e(o)})).catch((function(t){return alert("could not create book")}))},class:"btn btn-secondary","data-bs-dismiss":"modal",children:"Submit"})})]})})})]})},v=function(t){var e=t.username;return Object(y.jsxs)(c.Fragment,{children:[Object(y.jsx)("h1",{class:"fw-bolder display-3 mb-0 pt-3",children:"Book Library"}),Object(y.jsx)("p",{class:"fw-bold mb-0 pb-2 ",children:"Get all the book you'll ever need in one place. "}),Object(y.jsxs)("small",{class:"badge p-2 text-dark btn bg-warning",children:[Object(y.jsx)("span",{children:"Hello"}),Object(y.jsx)("span",{class:"icon mx-2",children:Object(y.jsx)(f.e,{})}),e]}),Object(y.jsx)(k,{submit:function(t){},Btn:Object(y.jsxs)("button",{"data-bs-toggle":"modal","data-bs-target":"#modal","data-bs-type":"add-book",class:"badge btn my-3 mx-1 bg-primary p-2",children:[Object(y.jsx)("span",{class:"icon",children:Object(y.jsx)(f.d,{})}),Object(y.jsx)("span",{class:"text",children:"Add new Book"})]})})]})},w=function(t){return Object(y.jsx)("div",Object(g.a)(Object(g.a)({class:"container"},t),{},{children:t.children}))},S=function(){var t=Object(b.f)().id,e=Object(c.useState)({}),n=Object(x.a)(e,2),s=n[0],r=n[1];return fetch("https://book--lib.herokuapp.com/books/id/"+t).then((function(t){return t.json()})).then((function(t){r(t.data[0])})).catch((function(t){return alert(t)})),Object(y.jsx)(w,{children:Object(y.jsxs)("div",{class:"p-5",children:[Object(y.jsx)("h1",{class:"display-3 fw-bold my-2",children:s.name}),Object(y.jsxs)("h5",{class:"",children:["Author: ",s.author]}),Object(y.jsxs)("h6",{class:"my-2",children:["Id: ",s._id]}),Object(y.jsxs)("h5",{class:"my-2",children:[Object(y.jsx)("p",{class:"mb-0",children:"Description: "}),s.description]}),Object(y.jsx)("div",{class:"p-4 l",style:{border:"2px solid blue "},children:Object(y.jsx)("p",{children:s.content})})]})})},C=n(12),P=function(){return Object(y.jsx)("div",{class:"py-5 mt-5 h-100 d-flex align-items-center justify-content-center rounded-full ",children:Object(y.jsx)("div",{class:"spinner-grow "})})},B=function(t){var e=t.options,n=t.borrow,s=t.returnbook,r=t.del;return Object(y.jsxs)("div",{class:"card p-5 text-center m-2 d-flex justify-content-center align-items-center list-item shadow bg-black",children:[Object(y.jsx)("span",{class:"icon p-5 my-3 d-flex justify-content-center align-items-center bg-primary fs-3 rounded-circle bg-dark shadow-sm ",children:Object(y.jsx)(f.a,{})}),Object(y.jsxs)("span",{class:"fs-2 my-2",children:[" ",e.title," "]}),Object(y.jsxs)("span",{class:"fs-5 my-2",children:[" ",Object(y.jsx)("span",{class:"fw-bold",children:e.desc})," "]}),Object(y.jsxs)("span",{class:"fs-tiny my-2",children:["  ",Object(y.jsxs)("span",{class:"fw-bold",children:["Author: ",e.author," "]})," "]}),Object(y.jsxs)("div",{class:"btn-group p-2",children:[Object(y.jsx)(l.b,{to:"/book/"+e.id,children:Object(y.jsx)("button",{class:"btn btn-info",children:"Preview"})}),s?Object(y.jsx)("button",{class:"btn btn-success",onClick:function(){s(e.id,(function(t,e){t?alert("An error occurred"):alert(e.msg)}))},children:"Return book"}):Object(y.jsxs)(c.Fragment,{children:[n&&Object(y.jsx)("button",{class:"btn btn-success",onClick:function(){n(e.id,(function(t,e){t?alert("err"+t):alert(e.msg)}))},children:"Borrow"}),Object(y.jsx)("button",{class:"btn btn-danger",onClick:function(){r(e.id,(function(t,e){t?alert("err"+t):alert(e.msg)}))},children:"Delete"})]})]})]})},T=function(t){var e=t.type,n=t.onChange,s=t.icon,r=t.placeholder;return Object(y.jsx)(c.Fragment,{children:Object(y.jsx)("div",{class:"form-group bg-black my-5 rounded  shadow py-2 ",children:Object(y.jsxs)("div",{class:"input-group align-items-center ",children:[Object(y.jsx)("div",{class:"input-group-btn badge mx-2 bg-primary  fs-4 pr-3",children:s}),Object(y.jsx)("input",{type:e,onChange:n,placeholder:r,class:"ml-4 text-light border-0  bg-transparent border-0  form-control"})]})})})},E=function(t){var e=t.books;return Object(y.jsx)(c.Fragment,{children:Object(y.jsxs)("div",{class:"my-1",children:[Object(y.jsxs)("div",{class:"btn-group",children:[Object(y.jsx)(l.b,{to:"/",children:Object(y.jsxs)("button",{class:"btn btn-warning",children:[" New",Object(y.jsxs)("span",{class:"bg-dark mx-1  badge",children:[e," "]})]})}),Object(y.jsx)(l.b,{to:"/borrowed",children:Object(y.jsxs)("button",{class:"btn btn-warning mx-2",children:[" Borrowed ",Object(y.jsx)("span",{class:"bg-dark mx-1 badge",children:e})]})}),Object(y.jsx)(l.b,{to:"/my-books",children:Object(y.jsxs)("button",{class:"btn btn-warning",children:[" My books ",Object(y.jsxs)("span",{class:"bg-dark mx-1 badge",children:[e," "]})]})})]}),Object(y.jsx)("form",{})]})})},F=function(){var t=Object(c.useState)({}),e=Object(x.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(),a=Object(x.a)(o,2),i=a[0],l=a[1],b=function(t,e){fetch("https://book--lib.herokuapp.com/del-book/"+t,{method:"POST"}).then((function(t){return t.json()})).then((function(t){return e(null,t)})).catch((function(t){return e(t,null)}))};return s.a.useEffect((function(){fetch("https://book--lib.herokuapp.com/my-books").then((function(t){return t.json()})).then((function(t){l(i=t.data)})),fetch("https://book--lib.herokuapp.com/profile").then((function(t){return t.json()})).then((function(t){200!==t.status?(window.location="/login",alert("You need to login first ")):r.apply(void 0,Object(C.a)(t.data))})).catch((function(t){return t}))}),[]),Object(y.jsx)(c.Fragment,{children:Object(y.jsxs)(w,{children:[Object(y.jsx)(v,{username:n.username}),Object(y.jsx)(E,{books:"0"}),Object(y.jsx)("h3",{class:"my-3",children:" My Books "}),Object(y.jsx)("div",{class:"p-5",children:i?i.map((function(t){return Object(y.jsx)(B,{del:b,options:{author:t.author,id:t._id,desc:t.description,title:t.name}},t._id)})):Object(y.jsx)(P,{})})]})})},L=function(){return Object(y.jsx)("button",{type:"submit",onClick:function(){fetch("https://book--lib.herokuapp.com/logout",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({})}).then((function(t){return t.json()})).then((function(t){alert("Logged Out "),window.location="/login"})).catch((function(t){return alert(t)}))},class:"col-lg-5 w-100 my-5 btn btn-warning py-2 px-5 my-2",children:"Logout  "})},A=function(){return Object(y.jsxs)("footer",{class:"text-center pb-2",children:[Object(y.jsx)("span",{children:"\xa9"}),Object(y.jsxs)("span",{children:["Book Library | ",Object(y.jsx)("span",{class:"fw-bold",children:"2022 "})]})]})},D=function(){var t=Object(c.useState)({}),e=Object(x.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(),a=Object(x.a)(o,2),i=a[0],l=a[1],b=function(t,e){fetch("https://book--lib.herokuapp.com/borrow-book/"+t,{method:"POST"}).then((function(t){return t.json()})).then((function(t){return e(null,t)})).catch((function(t){return e(t,null)}))},j=function(t,e){fetch("https://book--lib.herokuapp.com/del-book/"+t,{method:"POST"}).then((function(t){return t.json()})).then((function(t){return e(null,t)})).catch((function(t){return e(t,null)}))};return s.a.useEffect((function(){fetch("https://book--lib.herokuapp.com/books").then((function(t){return t.json()})).then((function(t){l(i=t.data)})),fetch("https://book--lib.herokuapp.com/profile").then((function(t){return t.json()})).then((function(t){200!==t.status?(window.location="/login",alert("You need to login first ")):r.apply(void 0,Object(C.a)(t.data))})).catch((function(t){return t}))}),[]),Object(y.jsxs)(w,{children:[Object(y.jsx)(v,{username:n.username}),Object(y.jsx)(E,{books:"0"}),Object(y.jsx)("div",{class:"p-5",children:i?i.map((function(t){return Object(y.jsx)(B,{borrow:b,del:j,options:{author:t.author,desc:t.description,id:t._id,title:t.name}},t._id)})):Object(y.jsx)(P,{})}),Object(y.jsx)(L,{}),Object(y.jsx)(A,{})]})},J=function(){var t=Object(c.useState)({}),e=Object(x.a)(t,2),n=e[0],r=e[1],o=Object(c.useState)(),a=Object(x.a)(o,2),i=a[0],l=a[1],b=function(t,e){fetch("https://book--lib.herokuapp.com/return-book/"+t).then((function(t){return t.json()})).then((function(t){return e(null,t)})).catch((function(t){return e(t,null)}))};return s.a.useEffect((function(){fetch("https://book--lib.herokuapp.com/borrowed-book").then((function(t){return t.json()})).then((function(t){l(i=t.data)})),fetch("https://book--lib.herokuapp.com/profile").then((function(t){return t.json()})).then((function(t){200!==t.status?(window.location="/login",alert("You need to login first ")):r.apply(void 0,Object(C.a)(t.data))})).catch((function(t){return t}))}),[]),Object(y.jsxs)(w,{children:[Object(y.jsx)(v,{username:n.username}),Object(y.jsx)(E,{}),Object(y.jsx)("h3",{class:"my-3",children:"Book Borrowed "}),Object(y.jsx)("div",{class:"p-5",children:i?i.map((function(t){return Object(y.jsx)(B,{returnbook:b,options:{author:t.author,id:t._id,title:t.name}},t._id)})):Object(y.jsx)(P,{})})]})},N=function(t){return Object(y.jsxs)("button",Object(g.a)(Object(g.a)({disabled:t.loading&&"true",class:'" btn" '.concat(t.loading&&"disabled"," ")},t),{},{children:[Object(y.jsx)("span",{class:"text",children:t.children}),t.loading&&Object(y.jsx)("span",{class:"loading spinner-border spinner-border-sm mx-2"})]}))};N.defaultProps={loading:!1};var _=N,U=n.p+"static/media/logo-light.6e45ac2d.svg",M=function(){var t=Object(c.useState)(""),e=Object(x.a)(t,2),n=(e[0],e[1]),s=Object(c.useState)(""),r=Object(x.a)(s,2),o=(r[0],r[1]),a=Object(c.useState)(""),i=Object(x.a)(a,2),b=(i[0],i[1]),j=Object(c.useState)({username:"",email:"",password:""}),d=Object(x.a)(j,2),u=d[0],h=d[1];return Object(y.jsxs)(w,{children:[Object(y.jsx)("div",{class:"d-flex justify-content-center py-5",children:Object(y.jsx)("img",{class:"logo",width:"100",src:U,alt:"Book Library "})}),Object(y.jsxs)("div",{class:"jumbotron",children:[Object(y.jsx)("h3",{class:"fs-3 fw-bold ",children:"Sign Up"}),Object(y.jsx)("p",{class:"",children:"Create a new Account."})]}),Object(y.jsxs)("form",{onSubmit:function(t){t.preventDefault(),h(u={email:t.target.elements.item(0).value,username:t.target.elements.item(1).value,password:t.target.elements.item(2).value}),fetch("https://book--lib.herokuapp.com/signup",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(u)}).then((function(t){return t.json()})).then((function(t){t.status>=200&&t.status<=201&&(window.location="/"),alert(t.msg)})).catch((function(t){return alert(t)}))},class:"py-3",children:[Object(y.jsx)(T,{type:"email",onChange:function(t){n(t.target.value)},placeholder:"Enter Email",icon:Object(y.jsx)(f.b,{})}),Object(y.jsx)(T,{type:"username",onChange:function(t){o(t.target.value)},placeholder:"Enter Username",icon:Object(y.jsx)(f.e,{})}),Object(y.jsx)(T,{type:"password",onChange:function(t){b(t.target.value)},placeholder:"Enter Password ",icon:Object(y.jsx)(f.c,{})}),Object(y.jsx)("div",{class:"form-group mb-3",children:Object(y.jsxs)("label",{for:"",children:["Already a user? ",Object(y.jsx)("span",{class:"fw-bold",children:Object(y.jsx)(l.b,{to:"/login",children:"Login"})})]})}),Object(y.jsx)(_,{type:"submit",class:"btn-primary p-2 border-0 w-100 ",children:"Submit"})]})]})},I=function(){var t=Object(c.useState)({email:"",password:""}),e=Object(x.a)(t,2),n=e[0],s=e[1];return Object(y.jsx)(j.Provider,{value:{userData:n},children:Object(y.jsxs)(w,{children:[Object(y.jsx)("div",{class:"d-flex justify-content-center py-5",children:Object(y.jsx)("img",{class:"logo",width:"100",src:U,alt:"Book Library "})}),Object(y.jsxs)("div",{class:"jumbotron",children:[Object(y.jsx)("h3",{class:"fs-3 fw-bold ",children:"Login"}),Object(y.jsx)("p",{class:"",children:"Login with your credential correctly."})]}),Object(y.jsxs)("form",{onSubmit:function(t){t.preventDefault(),s(n={email:t.target.elements.item(0).value,password:t.target.elements.item(1).value}),fetch("https://book--lib.herokuapp.com/login",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(t){t.status>=200&&t.status<=201&&(window.location="/"),alert(t.msg)})).catch((function(t){return alert(t)}))},class:"py-3",children:["   ",Object(y.jsx)(T,{type:"email",placeholder:"Enter Email",icon:Object(y.jsx)(f.b,{})}),Object(y.jsx)(T,{type:"password",placeholder:"Enter Password ",icon:Object(y.jsx)(f.c,{})}),Object(y.jsx)("div",{class:"form-group mb-3",children:Object(y.jsxs)("label",{for:"",children:["Not yet a user? ",Object(y.jsx)("span",{class:"fw-bold",children:Object(y.jsx)(l.b,{to:"/signup",children:"SignUp"})})]})}),Object(y.jsx)(_,{type:"submit",class:"btn-primary p-2 border-0 w-100 ",children:"Submit"})]})]})})};n(38),n(39);try{i.a.init({mirror:!0})}catch(G){throw G}var Y=function(){return Object(y.jsx)(j.Provider,{value:O,children:Object(y.jsx)(l.a,{children:Object(y.jsxs)(b.c,{children:[Object(y.jsx)(b.a,{exact:!0,path:"/",children:Object(y.jsx)(D,{})}),Object(y.jsx)(b.a,{path:"/my-books",children:Object(y.jsx)(F,{})}),Object(y.jsx)(b.a,{path:"/borrowed",children:Object(y.jsx)(J,{})}),Object(y.jsx)(b.a,{path:"/signup",children:Object(y.jsx)(M,{})}),Object(y.jsx)(b.a,{path:"/login",children:Object(y.jsx)(I,{})}),Object(y.jsx)(b.a,{path:"/book/:id",children:Object(y.jsx)(S,{})}),Object(y.jsx)(b.a,{render:function(){return"404 Page"}})]})})})};o.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(Y,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8fc2193a.chunk.js.map